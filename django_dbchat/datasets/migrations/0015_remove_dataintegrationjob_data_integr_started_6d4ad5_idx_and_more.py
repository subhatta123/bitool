# Generated by Django 4.2.7 on 2025-07-17 09:40

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("datasets", "0014_add_scheduled_etl_models"),
    ]

    operations = [
        migrations.RemoveIndex(
            model_name="dataintegrationjob",
            name="data_integr_started_6d4ad5_idx",
        ),
        migrations.RemoveIndex(
            model_name="dataintegrationjob",
            name="data_integr_priorit_08301f_idx",
        ),
        migrations.RenameIndex(
            model_name="etljobrunlog",
            new_name="etl_job_run_schedul_77288f_idx",
            old_name="etl_job_run_schedul_2a6d84_idx",
        ),
        migrations.RenameIndex(
            model_name="etljobrunlog",
            new_name="etl_job_run_status_9e2a3e_idx",
            old_name="etl_job_run_status_5e8f9c_idx",
        ),
        migrations.RenameIndex(
            model_name="etljobrunlog",
            new_name="etl_job_run_started_4e543f_idx",
            old_name="etl_job_run_started_d4b7fe_idx",
        ),
        migrations.RenameIndex(
            model_name="etljobrunlog",
            new_name="etl_job_run_celery__0ec9d2_idx",
            old_name="etl_job_run_celery__94c3a2_idx",
        ),
        migrations.RenameIndex(
            model_name="scheduledetljob",
            new_name="scheduled_e_is_acti_b87f77_idx",
            old_name="scheduled_et_is_acti_c8b95a_idx",
        ),
        migrations.RenameIndex(
            model_name="scheduledetljob",
            new_name="scheduled_e_schedul_f06a8d_idx",
            old_name="scheduled_et_schedul_bf6234_idx",
        ),
        migrations.RenameIndex(
            model_name="scheduledetljob",
            new_name="scheduled_e_created_aae21a_idx",
            old_name="scheduled_et_created_e2a89b_idx",
        ),
        migrations.RenameIndex(
            model_name="scheduledetljob",
            new_name="scheduled_e_next_ru_0a416b_idx",
            old_name="scheduled_et_next_ru_7f7c8a_idx",
        ),
        migrations.RenameIndex(
            model_name="scheduledetljob",
            new_name="scheduled_e_celery__c9a820_idx",
            old_name="scheduled_et_celery__9c5f22_idx",
        ),
        migrations.RemoveField(
            model_name="dataintegrationjob",
            name="scheduled_time",
        ),
        migrations.AddField(
            model_name="dataintegrationjob",
            name="next_retry_at",
            field=models.DateTimeField(
                blank=True, help_text="Next retry time", null=True
            ),
        ),
        migrations.AddIndex(
            model_name="dataintegrationjob",
            index=models.Index(
                fields=["priority", "started_at"], name="data_integr_priorit_4966c3_idx"
            ),
        ),
    ]
